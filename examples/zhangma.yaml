version: '0.1'
source: zhangma
info:
  name: 张码
  author: 张建平
  version: '7.0'
  description: 形义码元编码输入法
analysis:
  classifier:
    竖钩: 6
    圈: 7
  degenerator:
    no_cross: false
    feature:
      捺: 点
  selector:
    - 根少优先
    - 结构完整
    - 连续笔顺
    - 能连不交
    - 能散不连
    - 取大优先
  customize:
    丈:
      - '1'
      - 乂
    下:
      - '1'
      - 卜
    丌:
      - '1'
      - "\ue0e3"
    丐:
      - '1'
      - "\ue018"
      - '5'
    兀:
      - '1'
      - 儿
    再:
      - '1'
      - 冂
      - "\ue43a"
    末:
      - '1'
      - 木
    束:
      - "\ue04c"
      - 口
    "\ue0cf":
      - 王
      - 丷
    金:
      - "\ue43d"
      - 王
      - 丷
    卡:
      - "\ue018"
      - '1'
      - 卜
    里:
      - 日
      - "\ue43a"
    天:
      - '1'
      - 大
    禹:
      - '3'
      - 口
      - 冂
      - "\ue04d"
    "\ue02c":
      - 土
      - 丷
    "\ue0a4":
      - 䒑
      - '2'
    "\ue035":
      - '1'
      - "\ue431"
      - '2'
    "\ue067":
      - 丷
      - "\ue070"
      - 丷
    凸:
      - '2'
      - '1'
      - '2'
      - '5'
      - '1'
    凹:
      - '2'
      - '5'
      - '2'
      - '5'
      - '1'
    "\ue066":
      - '1'
      - "\ue439"
      - 龷
    "\ue064":
      - 三
      - 人
    "\ue052":
      - '1'
      - 日
      - "\ue04d"
    牜:
      - "\ue05b"
      - '2'
    㡀:
      - 丷
      - 冂
      - "\ue442"
    州:
      - '4'
      - '3'
      - '4'
      - '2'
    "\ue053":
      - 耳
      - 戈
    瓦:
      - '1'
      - '5'
      - '5'
      - '4'
    "\ue08a":
      - 禾
      - 戈
    曲:
      - "\ue439"
      - 龷
    "\ue083":
      - "\ue423"
      - "\ue00d"
    囬:
      - 囗
      - "\ue001"
      - 二
    万:
      - '1'
      - "\ue427"
  serializer: zhangma
form:
  alphabet: qwertyuiopasdfghjklzxcvbnm
  grouping:
    '7': 二
    勹: 勺
    "\ue020": 勺
    "\ue423": 勺
    "\ue427": 勺
    "\ue042": 羊
    "\ue02e": 疒
    "\ue055": 皿
    "\ue069": "\ue02d"
    爫: 爪
    "\ue42d": 爪
    "\ue046": 爪
    覀: 西
    氏: 虍
    "\ue077": 彳
    "\ue41e": 彳
    "\ue0e3": 儿
    "\ue0ba": 儿
    "\ue0d6": 门
    卩: 阝
    "\ue0b2": 阝
    "\ue40f": "\ue029"
    "\ue404": 亻
    "\ue024": 亻
    丷: 䒑
    㔾: 巳
    氺: 水
    "\ue42b": 水
    "\ue442": 小
    "\ue03e": 小
    "\ue0d9": 小
    "\ue431": 彐
    "\ue07d": 彐
    "\ue42f": 灬
    "\ue430": 灬
    "\ue42e": 灬
    "\ue0e2": 雨
    "\ue006": 酉
    "\ue437": 止
    龰: 止
    "\ue03a": 止
    "\ue451": 止
    辶: 之
    龴: 廴
    夂: 廴
    "\ue004": 五
    丂: 五
    弋: 戈
    寸: 戈
    "\ue03f": 戈
    "\ue435": 马
    罒: 四
    "\ue436": 四
    穴: 大
    龸: 大
    长: 镸
    "\ue800": 田
    "\ue070": 三
    韦: 王
    龶: 王
    衤: 示
    "\ue0ae": 瓜
    干: 土
    "\ue039": 土
    "\ue418": "\ue07c"
    卜: "\ue018"
    "\ue0da": 鸟
    支: 十
    "\ue068": 十
    "\ue09e": 竹
    "\ue421": 臼
    "\ue079": 七
    匕: 七
    "\ue011": 七
    "\ue001": 刂
    癶: 八
    "\ue09b": 八
    礻: 饣
    "\ue44f": 厶
    "\ue04d": 厶
    "\ue43d": 人
    亽: 人
    "\uf000": 人
    车: 車
    "\ue0c8": 車
    "\ue405": 母
    "\ue406": 母
    "\ue419": 母
    "\ue023": 纟
    彑: 纟
    㠯: 目
    囗: 目
    "\ue44b": 禾
    "\ue40e": 禾
    东: 禾
    "\ue05c": 禾
    心: 匚
    "\ue051": 匚
    吂: 可
    艮: 曰
    "\ue01c": 曰
    忄: 巛
    也: 勿
    "\ue439": 冂
    "\ue02a": 冂
    丆: 厂
    "\ue0c1": 虫
    "\ue422": "\ue088"
    "\ue441": 乃
    "\ue0f6": "\ue0fc"
    了: "\ue0fc"
    丬: "\ue012"
    乂: 叉
    "\ue434": 叉
    "\ue00d": 冫
    廾: 冫
    龷: 冫
    又: 刀
    "\ue177": "\ue012"
    "\ue178": 七
    "\ue0d0": 雨
    "\ue838": 鹿
    "\ue445": 小
    "\ue42c": 水
    "\uf001": 鸟
    "\ue43a": 土
    "\ue043": 大
    "\ue449": 大
    "\ue43f": 七
    "\ue401": 力
    "\ue04c": 木
    朩: 木
    "\ue17b": "\ue012"
    "\ue17c": "\ue012"
    "\ue0d2": 月
    "\ue402": "\ue012"
    "\ue102": 王
    "\ue17d": 三
    "\ue443": 十
    "\ue452": 十
    "\ue179": "\ue0fc"
    "\uf002": "\ue088"
    "\ue446": 八
    "\ue05b": "\ue029"
    "\ue14f": 爪
    "\uf003": 厂
    "\ue438": "\ue088"
    "\uf004": 三
    "\uf005": 戈
    "\uf006": 丩
    "\ue868": 巾
  mapping:
    '1': g
    '2': j
    '3': e
    '4': o
    '5': z
    '6': 'n'
    '11': g
    '12': f
    '13': d
    '14': s
    '15': a
    '21': h
    '22': j
    '23': k
    '24': l
    '25': m
    '31': t
    '32': r
    '33': e
    '34': w
    '35': q
    '41': 'y'
    '42': u
    '43': i
    '44': o
    '45': p
    '51': b
    '52': v
    '53': c
    '54': x
    '55': z
    '61': 'n'
    米: q
    "\ue0ce": q
    "\ue057": q
    勺: q
    我: q
    月: q
    羊: q
    力: w
    疒: w
    夭: w
    贝: w
    皿: w
    几: w
    鱼: w
    "\ue02d": w
    子: e
    广: e
    犭: e
    彡: e
    "\ue07f": e
    爪: e
    巾: e
    年: e
    西: r
    虍: r
    彳: r
    儿: r
    门: r
    阝: r
    "\ue029": r
    乐: t
    亻: t
    乑: t
    丅: t
    "\ue078": t
    古: 'y'
    钅: 'y'
    亠: 'y'
    "\ue081": 'y'
    己: 'y'
    习: 'y'
    白: u
    木: u
    䒑: u
    吅: u
    "\ue009": u
    巳: u
    水: i
    氵: i
    小: i
    "\ue0e4": i
    彐: i
    巴: i
    方: o
    火: o
    灬: o
    雨: o
    酉: o
    甲: o
    民: p
    止: p
    之: p
    廴: p
    鬼: p
    石: a
    五: a
    弓: a
    耂: a
    戈: a
    麻: a
    马: s
    四: s
    大: s
    "\ue08f": s
    镸: s
    田: s
    舟: d
    三: d
    王: d
    "\ue080": d
    示: d
    瓜: d
    士: f
    二: f
    土: f
    "\ue07c": f
    夕: f
    言: g
    讠: g
    "\ue018": g
    歹: g
    鸟: h
    十: h
    竹: h
    丄: h
    臼: h
    由: j
    七: j
    艹: j
    廿: j
    凵: j
    刂: j
    旲: j
    光: k
    八: k
    "\ue050": k
    甘: k
    山: k
    饣: k
    厶: k
    女: l
    九: l
    人: l
    "\ue428": l
    早: l
    車: l
    立: z
    母: z
    纟: z
    身: x
    目: x
    禾: x
    匚: x
    可: x
    日: c
    曰: c
    "\ue031": c
    巛: c
    勿: c
    口: v
    尸: v
    犬: v
    巜: v
    耳: b
    冂: b
    厂: b
    虫: b
    "\ue088": b
    乃: b
    且: 'n'
    扌: 'n'
    冖: 'n'
    "\ue0d8": 'n'
    "\ue0fc": 'n'
    "\ue012": 'n'
    叉: 'n'
    工: m
    "\ue0c6": m
    宀: m
    业: m
    冫: m
    刀: m
    "\ue175": l
    "\ue174": i
    鹿: t
    "\ue17a": 'y'
    六: h
    "\ue176": v
    丩: 'n'
encoder:
  max_length: 4
  auto_select_length: 4
  short_code:
    - length_equal: 1
      schemes: [{prefix: 1}, {prefix: 2}, {prefix: 3}]
  rules:
    - length_equal: 2
      formula: AaAbBaBb
    - length_equal: 3
      formula: AaBaCaCb
    - length_in_range: [4, 10]
      formula: AaBaCaZa
  sources:
    s0:
      object: null
      next: s1
    s1:
      object: {type: 字根, rootIndex: 1}
      next: c0
    s2:
      object: {type: 字根, rootIndex: 2}
      next: c1
    s3:
      object: {type: 字根, rootIndex: 3}
      next: c5
    s4:
      object: {type: 字根, rootIndex: -1}
      next: null
    s5:
      object: {type: 固定, key: t}
      next: s7
    s6:
      object: {type: 特殊, subtype: 张码补码}
      next: c6
    s7:
      object: {type: 固定, key: 'y'}
      next: null
    s8:
      object: {type: 特殊, subtype: 张码补码}
      next: s10
    s9:
      object: {type: 特殊, subtype: 张码补码}
      next: s11
    s10:
      object: {type: 固定, key: t}
      next: null
    s11:
      object: {type: 固定, key: 'n'}
      next: c4
    s12:
      object: {type: 固定, key: p}
      next: null
    s13:
      object: {type: 特殊, subtype: 张码补码}
      next: null
    s14:
      object: {type: 固定, key: 'n'}
      next: null
  conditions:
    c0:
      object: {type: 字根, rootIndex: 2}
      operator: 存在
      positive: s2
      negative: c2
    c1:
      object: {type: 字根, rootIndex: 3}
      operator: 存在
      positive: s3
      negative: s6
    c2:
      object: {type: 汉字}
      operator: 匹配
      value: '[一二三四五六七八九]'
      positive: s5
      negative: c3
    c3:
      object: {type: 汉字}
      operator: 匹配
      positive: s8
      negative: s9
      value: '[言士舟马石鸟由光女乐西子力米古白水方民耳口日身立且工]'
    c4:
      object: {type: 汉字}
      operator: 匹配
      positive: s12
      negative: null
      value: '[丌丨丬丶丿亠亻冂冖冫凵刂勹匚卩厶囗夂宀屮巛廴廾彐彡忄扌攴攵氵灬犭疋疒礻糸纟艹衤讠辶钅阝饣虍彳]'
    c5:
      object: {type: 字根, rootIndex: 4}
      operator: 存在
      positive: s4
      negative: s13
    c6:
      object: {type: 特殊, subtype: 张码准码元}
      operator: 是
      positive: s14
      negative: null
      value: '1'
data:
  character_set: gb2312
  repertoire:
    "\uf000":
      unicode: 61440
      tygf: 0
      gb2312: 0
      gf0014_id: null
      readings: []
      glyphs: [{type: compound, operator: ⿱, operandList: [宀, "\ue415"]}]
      ambiguous: false
      name: 寒字头无八
    "\uf001":
      unicode: 61441
      tygf: 0
      gb2312: 0
      gf0014_id: null
      readings: []
      glyphs: [{type: derived_component, source: 乌, strokes: [{feature: reference, index: 0}, {feature: reference, index: 1}, {feature: reference, index: 2}]}]
      ambiguous: false
      name: 乌省
    "\uf002":
      unicode: 61442
      tygf: 0
      gb2312: 0
      gf0014_id: null
      readings: []
      glyphs: [{type: derived_component, source: "\ue0b7", strokes: [{feature: reference, index: 1}, {feature: reference, index: 2}, {feature: reference, index: 3}]}]
      ambiguous: false
      name: 衣省无丿
    "\uf003":
      unicode: 61443
      tygf: 0
      gb2312: 0
      gf0014_id: null
      readings: []
      glyphs: [{type: derived_component, source: 豕, strokes: [{feature: reference, index: 0}, {feature: reference, index: 1}]}]
      ambiguous: false
      name: 豕二
    "\uf004":
      unicode: 61444
      tygf: 0
      gb2312: 0
      gf0014_id: null
      readings: []
      glyphs: [{type: derived_component, source: "\ue075", strokes: [{feature: reference, index: 2}, {feature: reference, index: 3}, {feature: reference, index: 4}]}]
      ambiguous: false
      name: 段字旁无段二
    "\uf005":
      unicode: 61445
      tygf: 0
      gb2312: 0
      gf0014_id: null
      readings: []
      glyphs: [{type: derived_component, source: 戋, strokes: [{feature: reference, index: 1}, {feature: reference, index: 4}, {feature: reference, index: 2}, {feature: reference, index: 3}]}]
      ambiguous: false
      name: 戋无一
    "\uf006":
      unicode: 61446
      tygf: 0
      gb2312: 0
      gf0014_id: null
      readings: []
      glyphs: [{type: derived_component, source: 爿, strokes: [{feature: reference, index: 0}, {feature: reference, index: 1}]}]
      ambiguous: false
      name: 爿二
  glyph_customization:
    "\ue03c":
      type: compound
      operator: ⿱
      operandList: ["\uf000", 八]
    兆:
      type: compound
      operator: ⿴
      operandList: ["\ue42b", 儿]
    儿:
      type: compound
      operator: ⿰
      operandList: [丿, 乚]
    川:
      type: compound
      operator: ⿰
      operandList: ["\ue0e3", 丨]
    气:
      type: compound
      tags: []
      operator: ⿱
      operandList: ["\ue40f", "\ue122"]
    "\uea02":
      type: compound
      operator: ⿴
      operandList: ["\ue42b", 幺]
    乃:
      type: derived_component
      source: "\ue441"
      strokes: [{feature: reference, index: 0}, {feature: reference, index: 1}]
    衰:
      type: compound
      operator: ⿳
      operandList: ["\ue006", 一, "\ue0b7"]
    后:
      type: compound
      tags: [同字心]
      operator: ⿸
      operandList: ["\ue024", "\ue800"]
    容:
      type: compound
      operator: ⿳
      operandList: [穴, "\ue43d", 口]
    合:
      type: compound
      operator: ⿱
      operandList: ["\ue43d", "\ue800"]
    哀:
      type: compound
      operator: ⿱
      operandList: ["\ue006", "\ue0b7"]
    以:
      type: compound
      operator: ⿰
      operandList: ["\ue44f", 人]
    非:
      type: compound
      operator: ⿰
      operandList: ["\ue07d", "\ue080"]
    "\ue01e":
      type: compound
      operator: ⿴
      operandList: ["\ue01a", 丶]
    衮:
      type: compound
      operator: ⿳
      operandList: [六, 厶, "\ue0b7"]
    "\ue84f":
      type: compound
      operator: ⿱
      operandList: [二, 古]
    "\ue886":
      type: compound
      operator: ⿱
      operandList: ["\ue40f", 巾]
    衷:
      type: compound
      operator: ⿳
      operandList: ["\ue006", 丨, "\ue0b7"]
    乙:
      type: derived_component
      source: "\ue065"
      strokes: [{feature: reference, index: 0}]
    鼍:
      type: compound
      operator: ⿱
      operandList: [嘼, 电]
    "\ue819":
      type: compound
      operator: ⿱
      operandList: ["\uebc6", 冖]
    麥:
      type: compound
      operator: ⿱
      operandList: [龶, 夂]
    "\ue90f":
      type: compound
      operator: ⿱
      operandList: ["\ue867", 一]
    万:
      type: derived_component
      source: 万
      strokes: [{feature: reference, index: 0}, {feature: reference, index: 2}, {feature: reference, index: 1}]
    "\ue427":
      type: derived_component
      source: "\ue427"
      strokes: [{feature: reference, index: 1}, {feature: reference, index: 0}]
    方:
      type: derived_component
      source: 方
      strokes: [{feature: reference, index: 0}, {feature: reference, index: 1}, {feature: reference, index: 3}, {feature: reference, index: 2}]
    弋:
      type: derived_component
      source: 弋
      strokes: [{feature: reference, index: 0}, {feature: reference, index: 2}, {feature: reference, index: 1}]
    戈:
      type: derived_component
      source: 戈
      strokes: [{feature: reference, index: 0}, {feature: reference, index: 3}, {feature: reference, index: 1}, {feature: reference, index: 2}]
    戊:
      type: derived_component
      source: 戊
      strokes: [{feature: reference, index: 0}, {feature: reference, index: 1}, {feature: reference, index: 4}, {feature: reference, index: 2}, {feature: reference, index: 3}]
    戌:
      type: derived_component
      source: 戌
      strokes: [{feature: reference, index: 0}, {feature: reference, index: 1}, {feature: reference, index: 2}, {feature: reference, index: 5}, {feature: reference, index: 3}, {feature: reference, index: 4}]
    戍:
      type: derived_component
      source: 戍
      strokes: [{feature: reference, index: 0}, {feature: reference, index: 1}, {feature: reference, index: 2}, {feature: reference, index: 5}, {feature: reference, index: 3}, {feature: reference, index: 4}]
    成:
      type: derived_component
      source: 成
      strokes: [{feature: reference, index: 0}, {feature: reference, index: 1}, {feature: reference, index: 2}, {feature: reference, index: 5}, {feature: reference, index: 3}, {feature: reference, index: 4}]
    戋:
      type: derived_component
      source: 戋
      strokes: [{feature: reference, index: 0}, {feature: reference, index: 1}, {feature: reference, index: 4}, {feature: reference, index: 2}, {feature: reference, index: 3}]
    我:
      type: derived_component
      source: 我
      strokes: [{feature: reference, index: 0}, {feature: reference, index: 1}, {feature: reference, index: 2}, {feature: reference, index: 3}, {feature: reference, index: 6}, {feature: reference, index: 4}, {feature: reference, index: 5}]
    "\ue05f":
      type: derived_component
      source: "\ue05f"
      strokes: [{feature: reference, index: 0}, {feature: reference, index: 1}, {feature: reference, index: 2}, {feature: reference, index: 3}, {feature: reference, index: 5}, {feature: reference, index: 4}]
    戉:
      type: derived_component
      source: 戉
      strokes: [{feature: reference, index: 0}, {feature: reference, index: 1}, {feature: reference, index: 4}, {feature: reference, index: 2}, {feature: reference, index: 3}]
    "\ue950":
      type: derived_component
      source: "\ue950"
      strokes: [{feature: reference, index: 0}, {feature: reference, index: 1}, {feature: reference, index: 2}, {feature: reference, index: 5}, {feature: reference, index: 3}, {feature: reference, index: 4}]
    "\ue074":
      type: derived_component
      source: "\ue074"
      strokes: [{feature: reference, index: 0}, {feature: reference, index: 1}, {feature: reference, index: 3}, {feature: reference, index: 2}]
