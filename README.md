# 汉字自动拆分系统网页版

本项目是[汉字自动拆分系统](https://github.com/hanzi-chai/chai)的网页版，采用 React, React Router 以及 Ant Design 实现，为用户提供了一个方便的图形界面，使方案设计更加便捷。

# 使用

## 网址

本项目部署的主要位置为 <https://chaifen.app>，托管在 Cloudflare Pages 上，但是考虑到网络环境的不稳定，提供以下额外部署方案：

1. GitHub Pages 版本：<https://hanzi-chai.github.io>
2. Vercel 版本：<https://hanzi-chai.vercel.app>
3. Cloudflare Pages 原始域名：<https://chai.pages.dev>

以上地址均可使用。不过，由于本项目采用浏览器的 `localStorage` 来存储数据，您保存的方案并不会在各个网址间同步。

## 基本操作

### 文件管理

首次打开网站时，您将看到右侧的一个 Logo 和左侧的空文件列表。有三种方式来新建一个文件：

1. 点击「新建」将弹出一个对话框引导您选择一些合适的模板
2. 点击「示例」则可以基于某个现有的方案制作方案
3. 点击「导入」可以导入先前保存的 YAML 格式的方案文件

新建成功后，文件列表中会出现一个新文件。点击任一文件右侧的「编辑」即可进入编辑器界面，点击「删除」则将移除该文件。每个文件中包含一个您所定义的汉字输入方案，不同方案之间数据是相互独立的。

编辑器界面进一步分为五个不同的页面：

### 基本

可以输入方案的名称、作者、版本号、备注等信息。名称和备注会出现在文件管理页面的列表中。

### 数据

数据分为三类：字形数据、字音数据和笔画分类数据。

- 字形数据：在本项目中，字形信息可能以三种不同的方式存储
  - 部件：
  - 复合体：
  - 切片：
- 字音数据：包含通用规范汉字（8105 个字）的拼音
- 笔画分类数据

### 元素

元素分为两类：字形元素和字音元素。您可以在左侧的面板上输入笔画来从现有的字形数据库中选择一个字根，然后点击「添加」将其添加为一个字根。

在右侧的字根列表中点击一个字根会弹出快捷操作菜单，您可以在其上进行更改编码、删除等操作。

### 分析

左侧可以定义一些拆分规则，规则之间支持排序。

右侧点击「计算」按当前方案拆分汉字，结果以列表的方式呈现在页面上，可以用笔画来过滤。可以以 JSON 格式下载拆分结果。

### 编码（待完成）

---

在任一编辑器界面，您都可以导入一个方案文件覆盖当前方案，也可以导出当前方案到一个文件。

# 开发

仓库克隆到本地后，首先运行 `npm i` 安装依赖。本项目使用 Vite 作为打包工具。

- `npm run dev` 在本地运行开发服务器，可以访问 <http://localhost:5173> 来查看；
- `npm run build` 将项目打包为可发布的静态文件；
- `npm run format` 使用 Prettier 格式化代码（无需手动运行，在每次提交代码前自动运行）；
